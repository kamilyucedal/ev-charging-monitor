<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EV Charging Monitor - G√∂teborg</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header>
            <h1>‚ö° EV Charging Monitor</h1>
            <p>Real-time charging station monitoring in G√∂teborg</p>
        </header>

        <!-- Stats Dashboard -->
        <div class="stats-panel">
            <div class="stat-card">
                <h3>Total Stations</h3>
                <p id="total-stations" class="stat-value">-</p>
            </div>
            <div class="stat-card">
                <h3>Active Sessions</h3>
                <p id="active-sessions" class="stat-value">-</p>
            </div>
            <div class="stat-card">
                <h3>Today's Energy</h3>
                <p id="today-energy" class="stat-value">-</p>
            </div>
            <div class="stat-card">
                <h3>Today's Revenue</h3>
                <p id="today-revenue" class="stat-value">-</p>
            </div>
        </div>

        <!-- Control Panel -->
        <div class="control-panel">
            <button id="refresh-btn" class="btn btn-primary">üîÑ Refresh</button>
            <button id="add-station-btn" class="btn btn-secondary">‚ûï Add Station</button>
            <label class="auto-refresh">
                <input type="checkbox" id="auto-refresh" checked> Auto-refresh (5s)
            </label>
        </div>

        <!-- Map -->
        <div id="map"></div>

        <!-- Station Details Sidebar -->
        <div id="station-details" class="sidebar hidden">
            <button id="close-sidebar" class="close-btn">‚úï</button>
            <div id="station-info">
                <!-- Filled by JS -->
            </div>
        </div>
    </div>

    <!-- Add Station Modal -->
    <div id="add-station-modal" class="modal hidden">
        <div class="modal-content">
            <h2>Add New Charging Station</h2>
            <form id="add-station-form">
                <label>
                    Station Name:
                    <input type="text" id="station-name" required placeholder="e.g., Nordstan Parking">
                </label>
                <label>
                    City:
                    <input type="text" id="station-city" value="G√∂teborg" required>
                </label>
                <label>
                    Power (kW):
                    <input type="number" id="station-power" value="50" min="1" max="350" required>
                </label>
                <label>
                    Connector Type:
                    <select id="station-connector">
                        <option value="CCS">CCS</option>
                        <option value="Type2">Type 2</option>
                        <option value="CHAdeMO">CHAdeMO</option>
                    </select>
                </label>
                
                <!-- Location Selection -->
                <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 15px 0;">
                    <p style="margin: 0 0 10px 0; font-weight: 600; color: #667eea;">üìç Station Location</p>
                    <p class="hint" style="margin-bottom: 10px;">Click anywhere on the map to set the station location</p>
                    <p id="coord-display" style="margin: 0; color: #e74c3c; font-weight: 500;">No location selected yet</p>
                    <input type="hidden" id="station-lat">
                    <input type="hidden" id="station-lng">
                </div>
                
                <div class="modal-actions">
                    <button type="submit" class="btn btn-primary">‚úÖ Add Station</button>
                    <button type="button" id="cancel-add" class="btn btn-secondary">‚ùå Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="app.js"></script>
</body>
</html>